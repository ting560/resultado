<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SofaScore Web View</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { background-color: #121212; color: white; }
        .card-jogo { background: #1e1e1e; border: 1px solid #333; margin-bottom: 10px; border-radius: 10px; }
        .torneio-header { color: #00a8ff; font-weight: bold; margin-top: 20px; border-left: 4px solid #00a8ff; padding-left: 10px; }
    </style>
</head>
<body>
    <div class="container py-4">
        <h2 class="text-center mb-4">âš½ Jogos de Hoje</h2>
        <input type="text" id="busca" class="form-control mb-4 bg-dark text-white border-secondary" placeholder="Buscar time ou liga...">
        
        <div id="lista-jogos">
            <p class="text-center">Carregando jogos...</p>
        </div>
    </div>

    <script>
        async function carregarJogos() {
            try {
                const res = await fetch('jogos.json');
                const data = await res.json();
                const container = document.getElementById('lista-jogos');
                container.innerHTML = '';

                let torneioAtual = '';

                data.events.forEach(jogo => {
                    if (jogo.tournament.name !== torneioAtual) {
                        torneioAtual = jogo.tournament.name;
                        container.innerHTML += `<h5 class="torneio-header">${torneioAtual}</h5>`;
                    }

                    const hora = new Date(jogo.startTimestamp * 1000).toLocaleTimeString('pt-BR', {hour: '2-digit', minute:'2-digit'});
                    
                    container.innerHTML += `
                        <div class="card-jogo p-3 d-flex justify-content-between align-items-center">
                            <span class="text-secondary small">${hora}</span>
                            <div class="text-center flex-grow-1">
                                <strong>${jogo.homeTeam.name}</strong> vs <strong>${jogo.awayTeam.name}</strong>
                            </div>
                            <span class="badge bg-primary">${jogo.status.type === 'finished' ? 'Fim' : 'Agendado'}</span>
                        </div>`;
                });
            } catch (e) {
                document.getElementById('lista-jogos').innerHTML = '<p class="text-danger">Erro ao carregar os dados. Rode o scraper primeiro.</p>';
            }
        }
        carregarJogos();
    </script>
</body>
</html>
